import{K as r}from"./k3cloudapi.BjBFa2ll.js";import"./index-CqdXm0r7.js";import{B as e}from"./bd_empinfo.Dyzr-EYJ.js";import"./stock_loc.B6bAmQXk.js";import"./inv_log.EW53o3V_.js";const F=async F=>{let a={FOperatorGroup:[]},t=await e.query({FName:F.staff_name,FNumber:F.staff_no,FWMSPWD_in:F.password.toUpperCase()===F.staff_no.toUpperCase()?["",F.password]:[F.password]});if(!(t.data.length>0))return a;{let r=t.data[0];a.FID=r.FID,a.FName=r.FName,a.FNumber=r.FNumber,a.FForbidStatus=r.FForbidStatus,a.FBizOrgId=r.FUseOrgId,a["FBizOrgId.FName"]=r["FUseOrgId.FName"]}let o=["FID","FName","FNumber","FForbidStatus","FBizOrgId","FBizOrgId.FName"];const i={FormId:"BD_WAREHOUSEWORKERS",FieldKeys:o.concat(["FOperatorGroupId","FOperatorGroupId.FNumber","FOperatorGroupId.FName"]).join(","),FilterString:r.query_filter({FNumber:F.staff_no,FBizOrgId:F.org_id})};let s=await r.bill_query(i);if(s.data.length>0){for(let r in o)a[o[r]]=s.data[0][o[r]];for(let r in s.data)a.FOperatorGroup.push(s.data[r]["FOperatorGroupId.FNumber"])}return a},a=async()=>r.bill_query({FormId:"BD_STOCK",FieldKeys:"FStockId,FName,FNumber,FGroup,FGroup.FName,FUseOrgId,FUseOrgId.FNumber,FUseOrgId.FName,FDocumentStatus,FForbidStatus"}),t=async(e,F)=>{const a={FormId:"BD_Supplier",FieldKeys:"FSupplierId,FName,FNumber",FilterString:r.query_filter({FNumber:e,FUseOrgId:F})};return r.bill_query(a)},o=async(e,F)=>{const a={FormId:"BD_MATERIAL",FieldKeys:"FMaterialId,FName,FNumber,FSpecification,FForbidStatus,FDocumentStatus,FBaseUnitId,FBaseUnitId.FNumber,FBaseUnitId.FName,FMaterialGroup.FName,FUseOrgId,FUseOrgId.FName,FImageFileServer",FilterString:r.query_filter({FNumber:e,FUseOrgId:F})};return r.bill_query(a)};export{o as a,t as b,a as g,F as v};
