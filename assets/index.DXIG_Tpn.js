import{x as t,n as e,a2 as s,s as a,m as o,a3 as r}from"./index-CqdXm0r7.js";const n=(t,e=10)=>t.length<=e?t:t.slice(0,e)+"...",i=e=>{if("n"===(t("prompt_audio")||"y"))return;const s={success:"/static/audio/success.mp3",warn:"/static/audio/warn.mp3",delete:"/static/audio/delete.mp3"}[e];if(!s)throw new Error("invalid type");(t=>{let e=r();e.src=t,e.play()})(s)},c=t=>{i("success"),e({url:t})},l=(t,e)=>{let s=t;return t.startsWith(e)&&(s=t.substring(e.length,t.length),s.startsWith("-")&&(s=s.substring(1,s.length))),s},d=t=>!!t.match(/^\d+(\.\d+)+$/),u=t=>!!t.match(/^[A-Z0-9]{1,4}-[A-Z0-9]{1,4}-\d{3}$/),p=t=>!!t.match(/^[A-Z0-9]{1,4}-[A-Z][0-9]{1,3}$/),h=t=>{let e=t.split("-"),s={depot:e[0],shelf:e[1]};return e[2]&&(s.row=Number(e[2][0]),s.col=Number(e[2].slice(1))),s},m=(t,e)=>{if(t==e)return 0;let s=h(t),a=h(e);return s.depot<a.depot?-1:s.depot>a.depot?1:s.shelf<a.shelf?-1:s.shelf>a.shelf?1:s.col<a.col?-1:s.col>a.col?1:s.row<a.row?-1:s.row>a.row?1:0},f=t=>["立方米","米","秒","平方米","千克","升"].includes(t),w=t=>[`${{in:"上架",in_cl:"取消上架",out:"下架",out_cl:"取消下架"}[t.FOpType]} ${t.FOpQTY} ${t["FStockUnitId.FName"]} ${t["FMaterialId.FNumber"]}`,`${t["FMaterialId.FName"]}, ${t["FMaterialId.FSpecification"]}`,`库位 ${t["FStockLocId.FNumber"]} , 批次 ${t.FBatchNo}`].join("\n"),F=t=>{for(var e=new ArrayBuffer(t.length),s=new Uint8Array(e),a=0;a<t.length;a++)s[a]=255&t.charCodeAt(a);return e},g=async(t=!1)=>{let e=await s({url:"https://zjucc2005.github.io/lutian_wms_utils/package.json",method:"GET"});200==e.statusCode&&(a.commit("set_latest_version",e.data.versionCode),e.data.versionCode>a.state.system_info.appVersionCode?o({title:"发现新版本",content:e.data.versionNote,confirmText:"前往下载",success:t=>{t.cancel||t.confirm&&window.open(e.data.installPack.h5,"_blank")}}):t&&o({title:"检查更新",content:"已经是最新版本",showCancel:!1}))};export{u as a,f as b,m as c,w as d,p as e,l as f,g,d as i,c as l,i as p,F as s,n as t};
